### 微信小程序如何上传图片

下面是微信上传接口的 `API` 文档：

- https://mp.weixin.qq.com/debug/wxadoc/dev/api/network-file.html

参数 | 类型 | 必填 | 说明
------------ | ------------- | ------------- | -------------
url	| String | 是 | 开发者服务器 url
filePath | String | 是 | 要上传文件资源的路径
name | String | 是 | 文件对应的 key , 开发者在服务器端通过这个 key 可以获取到文件二进制内容
header | Object | 否 | HTTP 请求 Header , header 中不能设置 Referer
formData | Object | 否 | HTTP 请求中其他额外的 form data
success | Function | 否 | 接口调用成功的回调函数
fail | Function | 否 | 接口调用失败的回调函数
complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）

### `WXML` 页面代码：

页面中我们有三个选择图片按钮，选择成功后，会在按钮位置显示加载的图片

```html
<view class="choice-imgs">
  <view class="img-choice-btn" data-btn="1" bindtap="openImgs">+</view>
  <view class="img-choice-btn" data-btn="2" bindtap="openImgs">+</view>
  <view class="img-choice-btn" data-btn="3" bindtap="openImgs">+</view>
</view>
```
上面我们页面中调用的是 `openImgs` 方法，参数是 `btn = x` ，该方法在相关的 js 文件中定义

### `xxx.js` 文件内容：

```javascript
var app = getApp();

Page({
	data: {
	},
 openImgs: function(e){
  console.log(e.currentTarget.dataset.btn);
  let oid = e.currentTarget.dataset.btn;
  //调用微信打开相册或拍照的 API
 },
	onLoad: function () {
	}
})
```
